{% from "components/table.html" import list_table, field, right_aligned_field_heading, row_heading %}
  

  <div class='reports-table'>
  
  {% call(item, row_number) list_table(
    reports,
    caption="Recent activity",
    caption_visible=False,
    empty_message=empty_txt,
    field_headings=[heading_1,heading_2],
    field_headings_visible=False if not reports else True
  ) %}
    {% call row_heading() %}
        <a class="file-list-filename" href="{{ item.url }}">{{ item.requested_at }} - {{ item.report_type}} - {{ current_service.name }} {{ _("report") }}</a>
      <p class="file-list-hint">
        {{ _("Requested by") }} {{ item.requested_by }}
      </p>
    {% endcall %}
    
    {% call field(align='right') %}
        {% if item.status == "requested" %}
          <div class="status-preparing">
            <div class="loading-spinner"></div>
            <span>{{ _("Preparing report") }}</span>
          </div>
        {% else %}
          {{ _(item.status) }}
        {% endif %}
    {% endcall %}

  {% endcall %}
  </div>