{% extends "admin_template.html" %}
{% from "components/page-header.html" import page_header %}
{% from "components/page-footer.html" import page_footer %}
{% from "components/form.html" import form_wrapper %}
{% from "components/show-more.html" import show_more %}
{% from "views/email-branding/_logo_radio.html" import branding_radio %}
{% from "components/empty-list.html" import empty_list  %}

{% block service_page_title %}
  {{ _('Update logo') }}
{% endblock %}

{% block maincolumn_content %}
  <div class="branding">
    {{ page_header(
      _('Choose branding from pool'),
      back_link=url_for('main.edit_branding_settings', service_id=current_service.id)
    ) }}
    <div class="grid-row contain-floats">
      <div class="py-0 px-0 px-gutterHalf box-border">
        {% if logos|length == 0 %}
          {{ empty_list(_('There are no logos available for this organisation yet'), _('You can start the process now to request new branding.'), 'emptyFlower', url_for('main.create_branding_request', service_id=current_service.id), _('Begin branding request')) }}
        {% else %}
          <p>{{ _('Choose one of the logos that are part of the <i>{}</i> organisation').format(current_service.organisation.name) }}</p>
          {% call form_wrapper() %}
            <div class="form-group mb-20 {% if form.errors %}{{ 'form-group-error' }}{% endif %}">
            
              <fieldset id="what_type" class="contain-floats inline-block p-6 pt-0 pl-0 grid grid-cols-2 gap-12 auto-rows-min" role="radiogroup" aria-labelledby="radio_fieldset">
                <legend>
                  {% if form.errors %}
                    <span class="error-message pb-8">
                      {{ form.errors["goc_branding"][0] }}
                    </span>
                  {% endif %}
                </legend>
                {% set i = 0 %}
                {% for logo in logos %}
                  <div class="branding-radio h-full">
                    {{ branding_radio(id='logo_{i}', name="goc_branding", value=logo.id, logo_name = logo.name, logo_url = '{}/{}'.format(url, logo.logo)) }}
                  </div>
                  {% set i = i + 1 %}
                {% endfor %}
              </fieldset>
            </div>
            <div class="my-20 flex items-center">
              
              
            </div>
            {{ show_more() }}
            <div class="mt-10">
              <div class="js-stick-at-bottom-when-scrolling">
                <div class="flex flex-row-reverse justify-end items-center">
                  <div class="ml-10">
                    <i aria-hidden="true" class="pl-2 text-title fa-solid fa-info-circle text-gray-visiteddark fill-current"></i> {{ _('If you can\'t find the branding you are looking for, you can start the process to <a href="{}">request new branding</a>.').format(url_for('main.create_branding_request', service_id=current_service.id)) }}
                  </div>
                  <div class="">
                    {{ page_footer('Preview') }}
                  </div>
                </div>
              </div>      
            </div>
          {% endcall %}
        {% endif %}
      </div>
    </div>
  </div>
{% endblock %}
