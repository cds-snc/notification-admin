{% extends  "admin_template.html" %}
{% from "components/textbox.html" import textbox %}
{% from "components/checkbox.html" import checkbox %}
{% from "components/page-footer.html" import page_footer %}
{% from "components/nav_menu_item.html" import nav_menu_item with context %}

{% set platform_admin_view_ind = True %}
{% block maincolumn_content %}

  <div class="flex flex-col items-start md:flex-row">
    <button aria-expanded="false" aria-haspopup="true" id="admin-panel-menu" data-module="menu"
            data-menu-items="admin-panel-menu-items"
            class="nav-menu-item md:hidden self-start"
            type="button">
            {{ _("Admin panel") }}
            <i aria-hidden="true" class="fa-solid fa-angle-down"></i>
    </button>
    <ul id="admin-panel-menu-items" class="hidden md:flex flex-col w-full md:basis-1/4 border-gray-300 border-1 border-b-0 md:border-0">
          {% for link_text, view in [
          ('Your services', 'choose_account'),
          ('Live services', 'live_services'),
          ('Trial services', 'trial_services'),
          ('Organisations', 'organisations'),
          ('Live API keys', 'live_api_keys'),
          ('Email branding', 'email_branding'),
          ('Template categories', 'template_categories'),
          ('Search for service', 'find_services_by_name'),
          ('Search for user', 'find_users_by_email'),
          ('Search for ids', 'find_ids'),
          ('Email complaints', 'platform_admin_list_complaints'),
          ('Reports', 'platform_admin_reports'),
          ('Inbound SMS numbers', 'inbound_sms_admin'),
          ('Providers', 'view_providers'),
          ('Clear cache', 'clear_cache'),
        ] %}
          <li class="px-4 adminnav--{{ admin_navigation.is_selected(view) }} ">
            {{ nav_menu_item(url_for('main.'+view), _(link_text), is_active=admin_navigation.is_selected(view), css_classes="md:py-2 border-b-0 focus:border-b-0") }}
          </li>
        {% endfor %}
      </ul>
    <hr class="w-full m-0 md:hidden border-gray-300 border-0 border-b-1"/>
    <div class="md:border-l-1 md:pl-gutterHalf w-full md:basis-3/4 self-stretch">
      {% block platform_admin_content %}{% endblock %}
    </div>
  </div>

{% endblock %}