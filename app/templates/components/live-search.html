{% from "components/textbox.html" import textbox %}

{% macro live_search(
    target_selector=None,
    show=False,
    form=None,
    label=None,
    testid=None
) %}
    {%- set search_label = label or form.search.label.text %}
    {% if show %}
      <div class="live-search hidden js-header" data-module="live-search" data-targets="{{ target_selector }}">
        {{ textbox(
          form.search,
          width='w-full',
          label=search_label,
          autocomplete="off",
          required=false,
          testid=testid,
          **kwargs
        ) }}
      </div>
    {% endif %}
{% endmacro %}
