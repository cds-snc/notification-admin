{% from "components/nav_menu_item.html" import nav_menu_item with context %}


<nav class="bg-gray" aria-label="{{ _('Main menu') }}">
    <div id="proposition-links" class="container px-gutterHalf flex flex-col md:flex-row flex-nowrap justify-between">
        <button aria-expanded="false" aria-haspopup="true" id="menu" data-module="menu"
            data-menu-items="main-menu-nav"
            class="md:hidden mr-5 p-4 bg-blue flex-shrink text-white text-smaller focus-visible:outline-yellow focus-visible:outline focus-visible:outline-4 visited:text-white link:text-white no-underline self-start"
            type="button">
            {{ _("Menu") }}
            <i aria-hidden="true" class="fa-solid fa-angle-down"></i>
        </button>
        <ul id="main-menu-nav" class="hidden menu-overlay md:flex flex-nowrap items-baseline gap-gutterHalf w-full">
            {% if nav_items %}
                {% for i in nav_items %}
                    {% if 'main' in i.description %}
                    <li class="flex-shrink-0">
                        {{ nav_menu_item(i.url, i.title, is_external_link=i.target, is_active=i.active) }}
                    </li>
                    {% endif %}
                {% endfor %}
            {% else %}
                {% for item in main_navigation_items %}
                    <li class="flex-shrink-0">
                        {{ nav_menu_item(url=item.url, localised_txt=item.name, is_active=header_navigation.is_selected(item.key)) }}
                    </li>
                {% endfor %}
            {% endif %}
        </ul>
        <button id="more-menu" type="button"
            aria-expanded="false" aria-haspopup="true"
            class="nav-menu-item justify-end px-4 w-min"
            data-module-menu-container="more-menu-container" data-has-items="false"
            data-module="more-menu" data-module-menu-items="main-menu-nav">
            {{ _("More") }}
            <i aria-hidden="true" class="fa-solid fa-angle-down"></i>
        </button>
        <div id="more-menu-container" class="relative hidden"></div>
    </div>
</nav>