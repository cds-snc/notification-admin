@layer components {
  /*! purgecss start ignore */
  .mobile-menu-container {
    width: 20ch;
    @apply text-left max-w-full;
  }

  /* iOS Safari mobile menu fixes */
  .mobile-menu-container a {
    @apply cursor-pointer;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
    touch-action: manipulation;
    -webkit-touch-callout: none;
  }

  /* Ensure menu items are clickable on mobile */
  #main-menu-nav li a {
    @apply cursor-pointer block;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
    touch-action: manipulation;
    -webkit-touch-callout: none;
    position: relative;
    z-index: 1;
  }

  /* Touch feedback for iOS */
  #main-menu-nav li a.touch-active {
    background-color: rgba(0, 0, 0, 0.05);
  }

  .mt-3_4 {
    margin-top: 3.3rem;
  }
  :has(+ [data-module="more-menu"]) [data-overflows="true"] {
    @apply hidden;
  }
  [data-module="more-menu"][data-has-items="true"] {
    @apply flex w-auto ml-auto;
  }
  [data-module="more-menu"][data-has-items="false"] {
    @apply hidden;
  }
  [data-module="menu"][aria-expanded="true"] svg,
  [data-module="more-menu"][aria-expanded="true"] svg {
    @apply transform rotate-180;
  }

  :has > [data-module="menu"] {
    @apply relative;
  }

  [data-module="menu"] + .menu-overlay:not(.hidden) {
    @apply absolute top-full w-max bg-white border-1 border-gray-300 px-4 z-50;
  }
  .menu-overlay:not(.hidden) {
    @apply flex flex-col gap-0 items-stretch flex-shrink-0 divide-y divide-gray-300 px-0 z-50 md:bg-white md:border-gray-300 md:border-1 md:px-4;
  }
}
